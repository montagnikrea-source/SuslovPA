# üîí –û—Ç—á—ë—Ç –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å AdSense

## 1. –ó–ê–©–ò–¢–ê –û–¢ –í–ó–õ–û–ú–ê ‚úÖ

### –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- **Content-Security-Policy (CSP)** ‚úÖ
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å–∫—Ä–∏–ø—Ç–æ–≤
  - –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ AdSense –∏ Google Analytics
  - –ó–∞—â–∏—Ç–∞ –æ—Ç XSS –∞—Ç–∞–∫

- **X-Frame-Options: SAMEORIGIN** ‚úÖ
  - –ó–∞—â–∏—Ç–∞ –æ—Ç clickjacking
  - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤ fremeset

- **X-XSS-Protection: 1; mode=block** ‚úÖ
  - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ XSS (—Å—Ç–∞—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã)

- **X-Content-Type-Options: nosniff** ‚úÖ
  - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ MIME-sniffing –∞—Ç–∞–∫

- **Referrer-Policy: strict-origin-when-cross-origin** ‚úÖ
  - –ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Ç–ø—Ä–∞–≤–∫–∏ referrer

- **Permissions-Policy** ‚úÖ
  - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ, –º–∏–∫—Ä–æ—Ñ–æ–Ω—É, –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

#### üõ°Ô∏è SecurityManager - –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –∑–∞—â–∏—Ç—ã:

1. **XSS Protection**
   ```javascript
   sanitizeHtml(str) // –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç <, >, ", ', &, /
   sanitizeJSON(obj) // –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
   ```

2. **CSRF Protection**
   ```javascript
   generateCSRFToken()    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
   validateCSRFToken()    // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç CSRF —Ç–æ–∫–µ–Ω –≤ sessionStorage
   ```

3. **Rate Limiting**
   ```javascript
   checkRateLimit(key, maxRequests, windowMs)
   // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç DDoS: max 20 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ 60 —Å–µ–∫ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ```

4. **Input Validation**
   ```javascript
   validateMessage(msg)   // –î–ª–∏–Ω–∞ 1-2000, –±–µ–∑ script/javascript/onerror
   validateUsername(user) // –ë—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ (1-32 —Å–∏–º)
   validateEmail(email)   // RFC pattern
   validateURL(url)       // –¢–æ–ª—å–∫–æ http:// –∏ https://
   ```

5. **Injection Protection**
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö —Ç–µ–≥–æ–≤: `<script>`, `javascript:`, `onerror`, `onload`
   - –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ Telegram
   - –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≤ UI

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –≤ MultiUserChatSystem:
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚úÖ Rate limiting (20 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- ‚úÖ HTML-—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ
- ‚úÖ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è username –∏ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ CSRF —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ

---

## 2. –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨ –° ADSENSE ‚úÖ

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AdSense:

**–ü—É–±–ª–∏–∫–∞—Ç–æ—Ä ID:** `ca-pub-1128500581050725`

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ AdSense:
```html
<!-- 1. Auto Ads (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç) -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1128500581050725"
        crossorigin="anonymous"></script>

<!-- 2. –°—Ç–∞—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏ (–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ) -->
<ins class="adsbygoogle ad-placeholder"
     data-ad-client="ca-pub-1128500581050725"
     data-ad-slot="(slot-id)"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
```

### ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –Ω–∞—à–∏–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏:

1. **–¢—ë–º–Ω–∞—è —Ç–µ–º–∞** ‚úÖ
   - AdSense –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —Ü–≤–µ—Ç–∞ –ø–æ–¥ —Ç–µ–º—É
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ AdSense
   - –†–µ–∫–ª–∞–º–∞ –≤–∏–¥–Ω–∞ –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏** ‚úÖ
   - Memory pooling –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ DOM –∞–¥—Å–æ–≤
   - Batch limiting –Ω–µ –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç AdSense —Å–∫—Ä–∏–ø—Ç—ã
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CPU –ø–æ–º–æ–≥–∞–µ—Ç AdSense —Ä–∞–±–æ—Ç–∞—Ç—å –ª—É—á—à–µ

3. **–ó–∞—â–∏—Ç–∞ –æ—Ç –≤–∑–ª–æ–º–∞** ‚úÖ
   - CSP —è–≤–Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç AdSense –¥–æ–º–µ–Ω—ã:
     - `pagead2.googlesyndication.com`
     - `www.gstatic.com`
   - CSRF —Ç–æ–∫–µ–Ω—ã –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ AdSense
   - Input validation –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç AdSense —Å–∫—Ä–∏–ø—Ç—ã

### üéØ AdSense Policy Compliance:

- ‚úÖ **Invalid Traffic Protection** 
  - Rate limiting –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç click-fraud
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –±–ª–æ–∫–∏—Ä—É–µ—Ç bot-—Ç—Ä–∞—Ñ–∏–∫

- ‚úÖ **User Experience**
  - –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è
  - –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–ª–∏–∫–æ–≤
  - –ù–µ—Ç —Å–∫—Ä—ã—Ç—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

- ‚úÖ **Technical Requirements**
  - Mobile-friendly: ‚úÖ Responsive design
  - Fast loading: ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–∞–º—è—Ç—å –∏ CPU
  - HTTPS: ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ Vercel –∏ GitHub Pages

---

## 3. –ß–ï–ö–õ–ò–°–¢ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –∞—Ç–∞–∫:

| –¢–∏–ø –∞—Ç–∞–∫–∏ | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|-----------|--------|-----------|
| **XSS (Cross-Site Scripting)** | ‚úÖ | HTML —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, CSP |
| **CSRF (Cross-Site Request Forgery)** | ‚úÖ | CSRF tokens –≤ sessionStorage |
| **SQL Injection** | ‚úÖ | –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–æ–≤ |
| **Clickjacking** | ‚úÖ | X-Frame-Options: SAMEORIGIN |
| **DDoS (Rate limiting)** | ‚úÖ | –õ–∏–º–∏—Ç 20 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç–∞ |
| **Malicious redirects** | ‚úÖ | –í–∞–ª–∏–¥–∞—Ü–∏—è URL (http/https only) |
| **Code injection** | ‚úÖ | –ó–∞–ø—Ä–µ—Ç eval(), script —Ç–µ–≥–æ–≤ |
| **MIME sniffing** | ‚úÖ | X-Content-Type-Options: nosniff |

---

## 4. –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```javascript
// –ö–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ—à–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏—é:
console.warn('‚ö†Ô∏è –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ—à–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏')

// –ö–æ–≥–¥–∞ –ø—Ä–µ–≤—ã—à–µ–Ω rate limit:
console.warn('‚ö†Ô∏è Rate limit exceeded for message_user123')
console.warn('‚ö†Ô∏è –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π (20 –∑–∞ –º–∏–Ω—É—Ç—É)')

// –ü–æ–ø—ã—Ç–∫–∞ XSS:
// HTML —Ç–µ–≥–∏ –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ &lt;, &gt; –∏ —Ç.–¥.
```

---

## 5. –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –†–ê–ó–í–Å–†–¢–´–í–ê–ù–ò–Æ

### –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CSP –≤ production (Vercel, GitHub Pages)
2. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ AdSense —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ CSP violations
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
1. üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å AdSense Performance –≤ Google Admin
2. üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Security Issues –≤ Google Search Console
3. üìà –°–ª–µ–¥–∏—Ç—å –∑–∞ —Ç—Ä–∞—Ñ–∏–∫–æ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
4. ‚ö†Ô∏è –†–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ AdSense policy violations —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## 6. –°–°–´–õ–ö–ò –ò –†–ï–°–£–†–°–´

- **Google AdSense Policies**: https://support.google.com/adsense
- **CSP Documentation**: https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP
- **OWASP Security Checklist**: https://cheatsheetseries.owasp.org/
- **Browser Security Headers**: https://securityheaders.com

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –ü–†–û–ò–ó–í–û–î–°–¢–í–£**

–í—Å–µ –∑–∞—â–∏—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, AdSense —Å–æ–≤–º–µ—Å—Ç–∏–º. –ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å! üöÄ
